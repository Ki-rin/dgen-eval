# Evaluation Pipeline README

## Overview
This script processes evaluation files for various sections, generates guidelines, evaluates answers, and merges the outputs into a single Excel file. It handles YAML files, markdown files, and Excel files efficiently while supporting parallel execution to speed up processing.

---

## How to Use

### Step 1: Prepare Input Files
1. **YAML Files**:
   - Place the YAML files for questions and guidelines in the directory: `dgen-prompts/default/odd/`.
   - Name the files as `section_X.yaml` where `X` is the section number (e.g., `section_1.yaml`).

2. **Markdown Files**:
   - Place the markdown files containing answers in the directory: `tests/`.
   - Name the files as `ODD_Section_X_short.md` where `X` is the section number (e.g., `ODD_Section_1_short.md`).

### Step 2: Run the Script
Execute the script by running the following command in your terminal:
```bash
python eval_pipeline.py
```

### Step 3: Review Outputs
1. **Individual Section Results**:
   - Processed Excel files for each section will be saved in the `tests/` directory.
   - File name format: `SectionX_eval.xlsx` (e.g., `Section1_eval.xlsx`).

2. **Merged Output**:
   - A combined Excel file containing all section results will be saved as `merged_eval_output.xlsx` in the script directory.

---

## Features
1. **Parallel Processing**:
   - Sections and tasks within each section are processed concurrently for better performance.

2. **Flexible Input**:
   - Accepts YAML files for questions and guidelines and markdown files for answers.
   - Produces section-wise and merged Excel output files.

3. **Error Handling**:
   - Skips missing files gracefully and prints warnings.
   - Handles encoding issues with UTF-8 for YAML and markdown files.

---

## Prerequisites

### Required Libraries
- Python 3.8+
- `pandas`
- `pyyaml`

### Installation
Install the required libraries using pip:
```bash
pip install pandas pyyaml
```

---

## Customization
1. **Adjust Section Range**:
   - Modify the `range(1, 6)` in the script to match the number of sections you want to process.

2. **Change Input/Output Directories**:
   - Update the paths in the `output_folders` and other file paths in the script to match your project structure.

---

## Known Issues
- Ensure YAML and markdown files follow a consistent structure to avoid errors during processing.

---

## Support
For questions or issues, please contact the developer or refer to the documentation for each utility function used (e.g., `yaml_to_excel`, `generate_guidelines`).

